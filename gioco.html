<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Gioco – ORDINA LA FRASE</title>

  <!-- Foglio di stile comune -->
  <link rel="stylesheet" href="style.css">

  <!-- Font Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- Font Awesome per le icone -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    .exercise {
      margin: 20px auto;
      max-width: 700px;
      padding: 16px;
      background: #fff;
      border: 2px solid #2563eb33;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(37,99,235,0.12);
      text-align: left;
    }
    .word-bank span {
      display: inline-block;
      background: #eef2ff;
      border: 1px solid #2563eb;
      border-radius: 6px;
      padding: 6px 10px;
      margin: 4px;
      cursor: grab;
    }
    .drop-zone {
      min-height: 40px;
      border: 2px dashed #ccc;
      margin: 8px 0;
      padding: 6px;
      border-radius: 6px;
      background: #fafafa;
    }
    .check-btn {
      margin-top: 8px;
      background: #2a4d69;
      color: #fff;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
    }
    .result {
      margin-top: 6px;
      font-weight: bold;
    }
    .result.correct { color: green; }
    .result.wrong { color: red; }

    /* Riga del livello: freccia a sinistra e titolo centrato */
    .level-header {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 1.2em auto;
      max-width: 900px;
      padding: 0 16px;
      min-height: 40px;
    }
    #back-btn {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #2a4d69;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 6px;
      transition: color 0.2s, transform 0.2s, background 0.2s;
    }
    #back-btn:hover {
      color: #1e3a5f;
      background: #eef2ff;
      transform: translateY(-50%) translateY(-1px);
    }
    #level-title {
      margin: 0;
      font-size: 1.4rem;
      font-weight: 600;
      color: #2a4d69;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="top-bar">
    <div class="header-row">
      <div class="header-left">
        <button id="hamburger" class="header-btn"><i class="fa-solid fa-bars" style="color:#fff;"></i></button>
      </div>
      <div class="header-center">
        <h1 class="main-title">Accademia di Italiano</h1>
      </div>
      <div class="header-right">
        <button id="trophy" class="header-btn" title="Esercizi svolti"><i class="fa-solid fa-trophy" style="color:#ffd700;"></i></button>
        <button id="user" class="header-btn" title="Accedi/Registrati"><i class="fa-solid fa-user-circle" style="color:#63ace5;"></i></button>
      </div>
    </div>
  </header>

  <!-- Freccia e titolo centrato -->
  <div class="level-header">
    <button id="back-btn" title="Torna alla Home" aria-label="Torna alla Home">
      <i class="fa-solid fa-arrow-left"></i>
    </button>
    <h2 id="level-title">Gioco – ORDINA LA FRASE</h2>
  </div>

  <!-- Contenuto -->
  <main style="padding:32px;text-align:center;">
    <p>Trascina le parole nell’ordine corretto e clicca su "Verifica".</p>

    <!-- Gioco 1 -->
    <div class="exercise" data-answer="Io vado a scuola in autobus ogni mattina">
      <p>(a – vado – scuola – in – autobus – ogni – mattina)</p>
      <div class="word-bank">
        <span draggable="true">a</span><span draggable="true">vado</span><span draggable="true">scuola</span>
        <span draggable="true">in</span><span draggable="true">autobus</span><span draggable="true">ogni</span>
        <span draggable="true">mattina</span>
      </div>
      <div class="drop-zone"></div>
      <button class="check-btn">Verifica</button>
      <p class="result"></p>
    </div>

    <!-- Gioco 2 -->
    <div class="exercise" data-answer="La mia materia preferita è matematica">
      <p>(preferita – matematica – mia – è – materia)</p>
      <div class="word-bank">
        <span draggable="true">preferita</span><span draggable="true">matematica</span><span draggable="true">mia</span>
        <span draggable="true">è</span><span draggable="true">materia</span>
      </div>
      <div class="drop-zone"></div>
      <button class="check-btn">Verifica</button>
      <p class="result"></p>
    </div>

    <!-- Gioco 3 -->
    <div class="exercise" data-answer="Nel tempo libero ascolto musica">
      <p>(tempo – libero – ascolto – musica – nel – io)</p>
      <div class="word-bank">
        <span draggable="true">tempo</span><span draggable="true">libero</span><span draggable="true">ascolto</span>
        <span draggable="true">musica</span><span draggable="true">nel</span><span draggable="true">io</span>
      </div>
      <div class="drop-zone"></div>
      <button class="check-btn">Verifica</button>
      <p class="result"></p>
    </div>

    <!-- Gioco 4 -->
    <div class="exercise" data-answer="Mi piace giocare a calcio con i miei amici">
      <p>(a – calcio – mi – piace – giocare – con – amici – i)</p>
      <div class="word-bank">
        <span draggable="true">a</span><span draggable="true">calcio</span><span draggable="true">mi</span>
        <span draggable="true">piace</span><span draggable="true">giocare</span><span draggable="true">con</span>
        <span draggable="true">amici</span><span draggable="true">i</span>
      </div>
      <div class="drop-zone"></div>
      <button class="check-btn">Verifica</button>
      <p class="result"></p>
    </div>
  </main>

  <!-- Script drag & drop -->
  <script>
    document.querySelectorAll('.exercise').forEach(exercise => {
      const words = exercise.querySelectorAll('.word-bank span');
      const dropZone = exercise.querySelector('.drop-zone');
      const checkBtn = exercise.querySelector('.check-btn');
      const result = exercise.querySelector('.result');
      const answer = exercise.dataset.answer;

      words.forEach(word => {
        word.addEventListener('dragstart', e => {
          e.dataTransfer.setData('text/plain', word.textContent);
        });
      });

      dropZone.addEventListener('dragover', e => {
        e.preventDefault();
      });

      dropZone.addEventListener('drop', e => {
        e.preventDefault();
        const text = e.dataTransfer.getData('text/plain');
        const span = document.createElement('span');
        span.textContent = text;
        span.style.margin = '4px';
        dropZone.appendChild(span);
      });

      checkBtn.addEventListener('click', () => {
        const builtSentence = Array.from(dropZone.querySelectorAll('span'))
          .map(s => s.textContent)
          .join(' ');
        if (builtSentence.trim() === answer.trim()) {
          result.textContent = "Corretto!";
          result.className = "result correct";
        } else {
          result.textContent = "Sbagliato, riprova.";
          result.className = "result wrong";
        }
      });
    });
  </script>
</body>
</html>
